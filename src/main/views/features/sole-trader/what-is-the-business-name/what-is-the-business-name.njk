{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% extends "layouts/default.njk" %}

{% block main_content %}

<div class="govuk-main-wrapper">
  <div class="govuk-grid-row">
   <div class="govuk-grid-column-two-thirds">
    <form action="" method="POST">
        <div class="govuk-form-group">
            
        {% set textHtml %}
        {{ govukInput({
            label: {
              text: i18n.whatIsTheBusinessNameTitleInput
            },
            errorMessage: {
                    text: errors["whatIsTheBusinessNameInput"].text
              } if errors["whatIsTheBusinessNameInput"] | length,
            classes: "govuk-input",
            id: "what-is-the-business-name-input",
            name: "whatIsTheBusinessNameInput",
            value: payload["whatIsTheBusinessNameInput"] if payload["whatIsTheBusinessNameInput"]
         }) }}

        {% endset -%}

        {{ govukRadios({
          errorMessage: errors.whatsTheBusinessNameRadio if errors,
          name: "whatsTheBusinessNameRadio",
          value: payload["whatsTheBusinessNameRadio"],
          id: "what-is-the-business-name-radio",
          classes: "govuk-radios",
          fieldset: {
            legend: {
              text: i18n.whatIsTheBusinessNameTitle,
              isPageHeading: true,
              classes: "govuk-fieldset__legend--l"
            }
          },
          items: [
            {
              value: "USERNAME",
              text: firstName + " " + lastName
            },
            {
              value: "A Different Name",
              text: i18n.whatIsTheBusinessNameDifferentName,
              conditional: {
                html: textHtml
              },
              attributes: {
                "data-event-id": "A different name"
              }
            }
          ]
        }) }}  

        <div class="govuk-inset-text">
          <p>{{i18n.whatIsTheBusinessNamePublic}}</p>       
        </div>

        </div>
        {{ govukButton({
          text: i18n.SaveAndContinue,
          attributes: {
              "data-event-id": "SAVE AND CONTINUE - Business name"
          }
        }) }}
     </form>
   </div>
 </div>
</div>

    
{% endblock main_content %}